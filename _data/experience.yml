- layout: top-middle
  name: 회원 약관 목록 조회 서비스 지연 발생 장애 대응
  quote: >
      #Spring, #Caching, #Redis, #SpringAOP, #OracleDB
  description: |
    **[성과 요약]**
    - 대규모 트래픽(분당 8만 명) 상황에서 회원 약관 목록 조회 API의 최대 응답시간을 60s → 1s 로 단축, 장애 발생 시에도 무중단 서비스 제공

    **[주요 역할]**
    - 장애 원인 분석, 캐싱 구조 설계, AOP 기반 캐시 무효화, 장애 복구 로직 구현 등 전 과정 개발 진행

    **[문제 상황 및 원인]**
    - 매월 1일 지역화폐 충전 혜택 지급 시 동시접속 폭증으로 오라클DB 부하 및 쿼리 지연 발생
      - TPS: 최대 7000+ / 분당 접속자수 : 최대 80000+
    - 약관 목록, 버전, 컨텐츠 등 복잡한 테이블 구조와 다중 Join으로 인한 쿼리 튜닝 한계

    **[해결 방안 및 구현]**
    - 약관 목록 조회 결과를 Redis 캐싱하여 DB 부하 분산
    - 약관 변경(등록/수정/삭제) 시 Spring AOP 기반 Custom Annotation을 활용해 캐시 무효화 자동화(반복 코드 제거 및 유지보수성 향상)
    - 약관 변경 후 최초 1회 조회만 DB 접근, 이후 캐시 활용으로 지연 방지
    - Spring Data Redis의 CacheErrorHandler를 커스터마이징하여 Redis 장애(RedisCommandTimeout) 발생 시 DB Fallback 처리(서비스 무중단 보장)

    **[성과]**
    - 트래픽 폭증 시 최대 응답시간 60s → 1s / 평균 500ms 이하로 개선
    - Redis 장애 발생 시에도 서비스 중단 없이 안정적 응답 제공

- layout: top-middle
  name: 가맹점 연동 Batch 시스템 성능 최적화
  quote: >
      #SpringBatch, #Partitioning, #ParallelProcessing, #WebClient, #Async, #Non-Blocking
  description: |
    **[성과 요약]**
    - 대용량 가맹점 데이터 연동 Batch 처리 속도를 수십 배 이상 개선, 운영 효율성 및 시스템 안정성 대폭 향상

    **[주요 역할]**
    - 성능 병목 분석, 병렬 처리 구조 설계 및 구현, 비동기 API 연동 등 전 과정 개발 진행

    **[문제 상황 및 원인]**
    - 시중 카드사 가맹점 연동 Batch 시스템에서 대용량 데이터 처리 시 성능 이슈
      - 1K 처리 소요 시간 : 약 43초
      - 6M 처리 소요 시간 : 약 2~3일
    - 데이터 처리 과정이 Sync & Blocking 방식으로 동작하여 병목 발생
      - 가맹점 연동 처리 과정 : 1. 기존 데이터 비교하여 변경 여부 확인 → 2. 가맹점 주소 기반 좌표 조회 → 3. DB 저장 → 4. 가맹점 데이터 변경 Event API 요청
      - 가맹점 연동 전문 파일 데이터 1건씩 읽으면서 Sync & Blocking 방식으로 처리

    **[해결 방안 및 구현]**
    - Spring Batch Partitioner 적용으로 데이터 파티셔닝 및 Step 병렬 처리 구조 도입
      - 전문 데이터 100K 이상 요청 시, 가용 스레드의 2/3만큼 스레드풀 동적 할당
    - 가맹점 데이터 변경 Event API 연동을 WebClient 기반 Async/Non-Blocking 방식으로 전환
      - StepListener 활용해 Chunk 단위 처리 후 비동기 API 호출로 처리 효율 극대화

    **[성과]**
    - 테스트 데이터 10K 처리 기준
      - 기존 시스템 소요 시간 : 약 4300초
      - 개선 시스템 소요 시간 : 약 24초 (Thread-Pool: 12개)
    - 시스템 리소스 효율적 사용 및 운영 안정성 확보